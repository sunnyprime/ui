{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nimport axios from 'axios';\nimport Debug from 'debug';\nimport { getHostName, isServer } from './server';\nimport config from '../../../../config/config'; // eslint-disable-next-line no-underscore-dangle\n\nvar debug = Debug('fr-ui:api');\nvar GET = 'get';\nvar POST = 'post';\nvar DELETE = 'delete';\nvar PUT = 'put';\nexport function apiClient(apiLib) {\n  var defaultOptions = {\n    method: GET,\n    url: '',\n    params: {},\n    data: null\n  };\n  return function (useCustom) {\n    return function (apiEndpoint) {\n      return {\n        get: function get(url) {\n          var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n          var urlEndpoint = useCustom ? apiEndpoint : apiEndpoint();\n          var absoluteUrl = urlEndpoint + url;\n          debug('GET request to url: ', absoluteUrl);\n          return apiLib(_objectSpread({}, defaultOptions, {\n            method: GET,\n            url: absoluteUrl,\n            params: params,\n            headers: {// any custom headers go here\n            }\n          }));\n        },\n        \"delete\": function _delete(url) {\n          var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n          var urlEndpoint = useCustom ? apiEndpoint : apiEndpoint();\n          var absoluteUrl = urlEndpoint + url;\n          debug('DELETE request to url: ', absoluteUrl);\n          return apiLib(_objectSpread({}, defaultOptions, {\n            method: DELETE,\n            url: absoluteUrl,\n            params: params,\n            headers: {// any custom headers go here\n            },\n            xsrfCookieName: 'add csrf cookie name here',\n            xsrfHeaderName: 'add csrf header name'\n          }));\n        },\n        put: function put(url) {\n          var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n          var data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n          var urlEndpoint = useCustom ? apiEndpoint : apiEndpoint();\n          var absoluteUrl = urlEndpoint + url;\n          return apiLib(_objectSpread({}, defaultOptions, {\n            method: PUT,\n            url: absoluteUrl,\n            params: params,\n            data: data,\n            headers: {// any custom headers go here\n            },\n            xsrfCookieName: 'add csrf cookie name here',\n            xsrfHeaderName: 'add csrf header name'\n          }));\n        },\n        post: function post(url) {\n          var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n          var data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n          var urlEndpoint = useCustom ? apiEndpoint : apiEndpoint();\n          var absoluteUrl = urlEndpoint + url;\n          debug('POST request to url:', absoluteUrl);\n          return apiLib(_objectSpread({}, defaultOptions, {\n            method: POST,\n            url: absoluteUrl,\n            params: params,\n            data: data,\n            headers: {// any custom headers go here\n            },\n            xsrfCookieName: 'add csrf cookie name here',\n            xsrfHeaderName: 'add csrf header name'\n          }));\n        },\n        multiPart: function multiPart(url) {\n          var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n          var data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n          var urlEndpoint = useCustom ? apiEndpoint : apiEndpoint();\n          var absoluteUrl = urlEndpoint + url;\n          debug('Attempting multi-part request to url:', absoluteUrl);\n          return apiLib(_objectSpread({}, defaultOptions, {\n            method: POST,\n            url: absoluteUrl,\n            params: params,\n            data: data,\n            headers: {\n              'Content-Type': 'multipart/form-data'\n            },\n            xsrfCookieName: 'add csrf cookie name here',\n            xsrfHeaderName: 'add csrf header name'\n          }));\n        },\n        blob: function blob(url) {\n          var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n          var urlEndpoint = useCustom ? apiEndpoint : apiEndpoint();\n          var absoluteUrl = urlEndpoint + url;\n          debug('Attempting blob download of file:', absoluteUrl);\n          return apiLib(_objectSpread({}, defaultOptions, {\n            method: GET,\n            url: absoluteUrl,\n            params: params,\n            headers: {// any custom headers go here\n            },\n            responseType: 'blob' // this is what makes it go in download mode\n\n          }));\n        }\n      };\n    };\n  };\n}\nexport var customApiCaller = apiClient(axios)(true);\n\nvar computeApiEndpoint = function computeApiEndpoint() {\n  if (config.USE_CUSTOM_API_ENDPOINT) {\n    return config.API_ENDPOINT;\n  }\n\n  return getHostName(isServer)();\n};\n\nvar api = apiClient(axios)(false)(computeApiEndpoint);\nexport default api;","map":{"version":3,"sources":["/Users/brickbolt/React/bricknbolt/updated/foundation-react-ui/src/js/common/utils/apiClient.ts"],"names":["axios","Debug","getHostName","isServer","config","debug","GET","POST","DELETE","PUT","apiClient","apiLib","defaultOptions","method","url","params","data","useCustom","apiEndpoint","get","urlEndpoint","absoluteUrl","headers","xsrfCookieName","xsrfHeaderName","put","post","multiPart","blob","responseType","customApiCaller","computeApiEndpoint","USE_CUSTOM_API_ENDPOINT","API_ENDPOINT","api"],"mappings":"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","sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport axios, { AxiosPromise } from 'axios';\n\nimport Debug from 'debug';\nimport { getHostName, isServer } from './server';\nimport config from '../../../../config/config';\n\n// eslint-disable-next-line no-underscore-dangle\nconst debug = Debug('fr-ui:api');\n\nconst GET = 'get';\nconst POST = 'post';\nconst DELETE = 'delete';\nconst PUT = 'put';\n\n\nexport function apiClient(apiLib): any {\n    const defaultOptions = {\n        method: GET,\n        url: '',\n        params: {},\n        data: null,\n    };\n\n    return (useCustom: boolean) => (apiEndpoint: string | any): any => ({\n        get(url: string, params = {}): Promise<AxiosPromise> {\n            const urlEndpoint = useCustom ? apiEndpoint : apiEndpoint();\n            const absoluteUrl = urlEndpoint + url;\n            debug('GET request to url: ', absoluteUrl);\n\n            return apiLib({\n                ...defaultOptions,\n                method: GET,\n                url: absoluteUrl,\n                params,\n                headers: {\n                    // any custom headers go here\n                },\n            });\n        },\n        delete(url: string, params = {}): Promise<AxiosPromise> {\n            const urlEndpoint = useCustom ? apiEndpoint : apiEndpoint();\n            const absoluteUrl = urlEndpoint + url;\n            debug('DELETE request to url: ', absoluteUrl);\n\n            return apiLib({\n                ...defaultOptions,\n                method: DELETE,\n                url: absoluteUrl,\n                params,\n                headers: {\n                    // any custom headers go here\n                },\n                xsrfCookieName: 'add csrf cookie name here',\n                xsrfHeaderName: 'add csrf header name',\n            });\n        },\n        put(url: string, params = {}, data = {}): Promise<AxiosPromise> {\n            const urlEndpoint = useCustom ? apiEndpoint : apiEndpoint();\n            const absoluteUrl = urlEndpoint + url;\n\n            return apiLib({\n                ...defaultOptions,\n                method: PUT,\n                url: absoluteUrl,\n                params,\n                data,\n                headers: {\n                    // any custom headers go here\n                },\n                xsrfCookieName: 'add csrf cookie name here',\n                xsrfHeaderName: 'add csrf header name',\n            });\n        },\n        post(url: string, params = {}, data = {}): Promise<AxiosPromise> {\n            const urlEndpoint = useCustom ? apiEndpoint : apiEndpoint();\n            const absoluteUrl = urlEndpoint + url;\n            debug('POST request to url:', absoluteUrl);\n\n            return apiLib({\n                ...defaultOptions,\n                method: POST,\n                url: absoluteUrl,\n                params,\n                data,\n                headers: {\n                    // any custom headers go here\n                },\n                xsrfCookieName: 'add csrf cookie name here',\n                xsrfHeaderName: 'add csrf header name',\n            });\n        },\n        multiPart(url: string, params = {}, data = {}): Promise<AxiosPromise> {\n            const urlEndpoint = useCustom ? apiEndpoint : apiEndpoint();\n            const absoluteUrl = urlEndpoint + url;\n            debug('Attempting multi-part request to url:', absoluteUrl);\n\n            return apiLib({\n                ...defaultOptions,\n                method: POST,\n                url: absoluteUrl,\n                params,\n                data,\n                headers: {\n                    'Content-Type': 'multipart/form-data',\n                },\n                xsrfCookieName: 'add csrf cookie name here',\n                xsrfHeaderName: 'add csrf header name',\n            });\n        },\n        blob(url: string, params = {}): Promise<AxiosPromise> {\n            const urlEndpoint = useCustom ? apiEndpoint : apiEndpoint();\n            const absoluteUrl = urlEndpoint + url;\n            debug('Attempting blob download of file:', absoluteUrl);\n\n            return apiLib({\n                ...defaultOptions,\n                method: GET,\n                url: absoluteUrl,\n                params,\n                headers: {\n                    // any custom headers go here\n                },\n                responseType: 'blob', // this is what makes it go in download mode\n            });\n        },\n    });\n}\n\nexport const customApiCaller = apiClient(axios)(true);\n\nconst computeApiEndpoint = (): string => {\n    if (config.USE_CUSTOM_API_ENDPOINT) {\n        return config.API_ENDPOINT;\n    }\n    return getHostName(isServer)();\n};\n\nconst api = apiClient(axios)(false)(computeApiEndpoint);\n\nexport default api;\n"]},"metadata":{},"sourceType":"module"}